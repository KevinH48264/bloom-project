(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},128:function(e,t){},129:function(e,t){},130:function(e,t){},131:function(e,t){},132:function(e,t){},133:function(e,t){},134:function(e,t,n){},136:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(86),o=n.n(r),c=(n(100),n(101),n(51)),s=n(52),m=n(62),i=n(60),u=n(7),d=(n(102),n(24)),E=n.n(d),p=function(e){Object(m.a)(n,e);var t=Object(i.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"contructor",value:function(e){this.state={dummy:""}}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("table",{style:{color:"black"}},l.a.createElement("tr",null,l.a.createElement("h1",null,"Welcome!")),l.a.createElement("tr",null,l.a.createElement("img",{src:E.a})),l.a.createElement("tr",null,l.a.createElement(u.b,{to:"/register"},l.a.createElement("button",{className:"btn btn1"},"Sign Up"))),l.a.createElement("tr",null,l.a.createElement(u.b,{to:"/login"},l.a.createElement("button",null,"Login")))))}}]),n}(l.a.Component),h=n(10),g=(n(74),n(71)),f=n.n(g),b=n(89),w=n(90),v=n.n(w);function y(e,t,n){return A.apply(this,arguments)}function A(){return(A=Object(b.a)(f.a.mark((function e(t,n,a){var l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v()({method:t,url:"".concat("http://localhost:5000/").concat(n),data:a});case 2:return l=e.sent,e.abrupt("return",l.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=n(22),O=n(2);function j(){var e=Object(O.f)();return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement(h.d,{initialValues:{role:"",name:"",username:"",email:"",password:"",confirmPassword:""},validationSchema:C.a().shape({role:C.c().required("Please select a role"),name:C.c().required("Name is required"),username:C.c().required("Username is required"),email:C.c().email("Email is invalid").required("Email is required"),password:C.c().min(6,"Password must be at least 6 characters").required("Password is required"),confirmPassword:C.c().oneOf([C.b("password"),null],"Passwords must match").required("Confirm Password is required")}),validateOnBlur:!0,validateOnChange:!1,onSubmit:function(t){if(console.log("called submitRegister!"),console.log(t),t.confirmPassword===t.password){var n={role:t.role,name:t.name,username:t.username,email:t.email,password:t.password};console.log(n),y("POST","/api/users/register",n).then((function(t){t?(console.log("successfully registered user"),console.log(t),e.push("/login")):console.log("user not created, unknown issue")})).catch((function(e){303===e.response.status?(console.log("user already exists"),console.log(e)):400===e.response.status?(console.log("registration info was faulty"),console.log(e)):(console.log("Unknown error trying to register user"),console.log(e))}))}else alert("Passwords must match!")}},(function(e){var t=e.values,n=e.handleChange,a=e.handleBlur;return l.a.createElement(h.c,null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"role",style:{display:"block"}},"Role"),l.a.createElement("select",{id:"role",name:"role",value:t.role,defaultValue:"default",onChange:n,onBlur:a,style:{display:"block"}},l.a.createElement("option",{value:""},"Select a Role"),l.a.createElement("option",{value:"admin"},"Administrator"),l.a.createElement("option",{value:"tutor"},"Tutor"),l.a.createElement("option",{value:"student"},"Student"))),l.a.createElement("div",{className:"form-group"},l.a.createElement(h.b,{name:"name",placeholder:"Name",type:"text"})),l.a.createElement(h.a,{name:"name",component:"div"}),l.a.createElement("div",{className:"form-group"},l.a.createElement(h.b,{name:"username",placeholder:"Username",type:"text"})),l.a.createElement(h.a,{name:"username",component:"div"}),l.a.createElement("div",{className:"form-group"},l.a.createElement(h.b,{name:"email",placeholder:"Email",type:"text"}),l.a.createElement(h.a,{name:"email",component:"div"})),l.a.createElement("div",{className:"form-group"},l.a.createElement(h.b,{name:"password",placeholder:"Password",type:"password"}),l.a.createElement(h.a,{name:"password",component:"div"})),l.a.createElement("div",{className:"form-group"},l.a.createElement(h.b,{name:"confirmPassword",type:"password",placeholder:"Confirm Password"}),l.a.createElement(h.a,{name:"confirmPassword",component:"div"})),l.a.createElement("div",null,l.a.createElement("button",{className:"btn btn1",type:"submit",style:{color:"white"}},"Register"),l.a.createElement(u.b,{to:"/login"},l.a.createElement("button",{className:"btn btn1",style:{color:"white"}},"Redirect to Login Page"))))}))))}var k=n(92),I=(n(125),function(e){Object(m.a)(n,e);var t=Object(i.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"contructor",value:function(e){this.state={usernameOrEmail:"",password:""}}},{key:"handleChange",value:function(e){this.setState(Object(k.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),console.log(e),y("POST","api/users/login",this.state).then((function(e){console.log(e.user),e.login&&1==e.login?(console.log("successfully logged in user"),console.log(e.id),localStorage.setItem("userId",e.id),t.props.history.push("/profile/".concat(e.id))):console.log("user not found")})).catch((function(e){console.log("Error trying to login user"),console.log(e)}))}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"login"},l.a.createElement("form",{onSubmit:this.handleSubmit.bind(this)},l.a.createElement("h1",{class:"inputs"},"Login"),l.a.createElement("input",{class:"inputs",type:"text",name:"usernameOrEmail",onChange:this.handleChange.bind(this),placeholder:"Username or Email"}),l.a.createElement("br",null),l.a.createElement("input",{class:"inputs",type:"text",name:"password",onChange:this.handleChange.bind(this),placeholder:"Password"}),l.a.createElement("br",null),l.a.createElement("input",{className:"btn btn1",type:"submit",value:"Submit"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(u.b,{to:"/register"},l.a.createElement("button",{className:"btn btn1"},"Register Page")))))}}]),n}(l.a.Component)),P=Object(O.h)(I),R=n(45),x=(n(126),n(93)),J=n.n(x);function K(e){var t=Object(a.useState)(localStorage.getItem("userId")||e.userId),n=Object(R.a)(t,2),r=n[0];n[1];return console.log(r),l.a.createElement("div",{id:"navbar"},l.a.createElement("img",{id:"nav-pic",src:E.a}),l.a.createElement("a",{class:"active",href:"#home"},l.a.createElement(u.b,{to:"/profile/".concat(r)},"Home")),l.a.createElement("a",null,l.a.createElement(u.b,{to:"/roster"},"Roster")),l.a.createElement("a",{onclick:"signOut();"},l.a.createElement(u.b,{to:"/login"},"Sign Out")))}n(127);function N(){var e=Object(O.f)(),t=Object(O.g)().userId,n=Object(a.useState)([]),r=Object(R.a)(n,2),o=r[0],c=r[1];return Object(a.useEffect)((function(){y("POST","api/users/findUsers").then((function(e){e||console.log("users returned nothing"),c(e)})).catch((function(e){return console.log(e)}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{display:"block"}},l.a.createElement(K,{userId:t}),l.a.createElement("h1",null,"All Bloom Users"),l.a.createElement("img",{id:"nav-pic",src:E.a}),l.a.createElement("br",null),l.a.createElement("div",{id:"users-table",style:{backgroundColor:"white"}},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Role"),l.a.createElement("th",null),l.a.createElement("th",null,"Username"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"Comments"))),l.a.createElement("tbody",null,o.map((function(t){return l.a.createElement("tr",{key:t._id,onClick:function(){console.log("clicked row"),e.push("/profile/".concat(t._id))}},l.a.createElement("td",null,t.name),l.a.createElement("td",null,t.role),l.a.createElement("td",null,l.a.createElement("img",{style:{flex:1,width:null,height:null,resizeMode:"contain"},src:J.a})),l.a.createElement("td",null,t.username),l.a.createElement("td",null,t.email),0!==t.comments.length&&t.comments&&t.comments.map((function(e){return l.a.createElement("tr",null,e.content)})),0==t.comments.length&&l.a.createElement("td",null,"This is where user comments would go!"))})))))))}n(134);function L(){var e=Object(O.g)().userid,t=Object(a.useState)({username:"",image:E.a,name:"",role:"",comments:[{from:"RR",to:"JJ",time:"2020-11-05",Content:"Hello, I love your teaching!"},{from:"KK",to:"JJ",time:"2020-11-04",Content:"Cool profile picture!"},{from:"MM",to:"JJ",time:"2020-11-03",Content:"hey what's up"}]}),n=Object(R.a)(t,2),r=n[0],o=n[1];Object(a.useEffect)((function(){y("GET","/api/users/".concat(e)).then((function(e){e?(console.log("user found!"),console.log(e),o({username:e.username,image:E.a,name:e.name,role:e.role,comments:[{from:"RR",to:"JJ",time:"2020-11-05",Content:"Hello, I love your teaching!"},{from:"KK",to:"JJ",time:"2020-11-04",Content:"Cool profile picture!"},{from:"MM",to:"JJ",time:"2020-11-03",Content:"hey what's up"}]}),console.log(r)):console.log("something went wrong getting the user/empty returned")})).catch((function(e){console.log("User was not found/does not exist!"),console.log(e)}))}),[]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("table",null,l.a.createElement("tr",null,l.a.createElement(K,{userId:e})),l.a.createElement("tr",null,l.a.createElement("p",{class:"username-display"},r.username)),l.a.createElement("tr",null,l.a.createElement("img",{id:"nav-pic",src:r.image})),l.a.createElement("tr",null,l.a.createElement("p",null,"Role: ",r.role)),r.comments&&r.comments.map((function(e){return l.a.createElement("tr",null,e.content)})),l.a.createElement("tr",null,l.a.createElement("br",null)),l.a.createElement("tr",null,l.a.createElement("label",{for:"comment",class:"required"},"Your message")),l.a.createElement("tr",null,l.a.createElement("textarea",{name:"comment",id:"comment",rows:"10",tabindex:"4",required:"required"}),l.a.createElement("input",{type:"hidden",name:"comment_post_ID",value:"1",id:"comment_post_ID"})),l.a.createElement("tr",null,l.a.createElement("button",{name:"submit",type:"submit",value:"Submit comment",onclick:"commented();"},"Submit"))))}n(135);var U=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,null,l.a.createElement(O.c,null,l.a.createElement(O.a,{exact:!0,path:"/"},l.a.createElement(p,null)),l.a.createElement(O.a,{exact:!0,path:"/register"},l.a.createElement(j,null)),l.a.createElement(O.a,{exact:!0,path:"/login"},l.a.createElement(P,null)),l.a.createElement(O.a,{exact:!0,path:"/roster"},l.a.createElement(N,null)),l.a.createElement(O.a,{exact:!0,path:"/profile/:userid"},l.a.createElement(L,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},24:function(e,t,n){e.exports=n.p+"static/media/logo.44563394.png"},74:function(e,t,n){},84:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=84},85:function(e,t){},93:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAXJSURBVHhe7ZyJUxpJFIcfeGsEjIBHIhiPiK6bVP7/fyLlGUFX442C3HLj9m+2SVlWdMsw9HtIfymL7jHqzHzTx+vpbs+Dgixi8OpPixCsEGFYIcKwQoRhhQjDChGGFSIMK0QYVogwrBBhWCHCsEKEYYUIwwoRRs8Ov1erVarValSvN+hB/RsaHKTh4WEaGRkhj8ej/1fv0RNCms0m3d/f081tinK5nPrKU6vV0t99iocmJyco4A9QMDhNPt8kDSpZvYJoIfV6na6uruni8lIJKb/6ycelocTMhEO0sPCRRkdH9XfkIlIInn6IODz6xykdbgCZkLIYjYguMeKEoF3Y2t6hfL6gj7gL2pmvXzZVtTapj8hClJBsNkfbSka90dBHugNKy9rnVZqfn9NH5CBGyM3NLe3u7Tv1vimikQgtL3/SORmIiEM4ZICfp6d0dHSsczJgF4Lu7N7+D+My2kAKHggpsApBb2pnd/+FmMIMPw7iTqApAVYhx8cnVCwWdY6PhupE7O7xldLHsAkplUqqujjTOX6y2SylUmmd44NNyMnJqU7JAYEoNyxCKpUKpdIpnZMDOhjcpYRFyPV1kppN3ob8dyBgPL+40DkejAtBwympm/mUfK7gNPJcGBeCEdySqhqk0mw1VYeD7/yMCymXK+xxx0ugBOfzeZ0zj3EhhUJ3RnHdJJvL6ZR5zJcQ1cOS/oq1fF/WKfMYF9JsuPPCqZsgXueK2o0LaT3IbT9+wTiEYlzIgHdApwTDWKWaFzIoX4hXCeFq54wLGR8bEzGq+hLj4+M6ZR7jQt69m9ApuQQCfp0yj3EhY6qEDA0N6Zw8UFVxzkgxLgRzojirhP8D5zcx0UdVFp7AudkZnZPHVCBAAwN8HQ/jQsD09DTrRT8HOhsfPszrHA8sQkZHR2h2JqxzcvCptmNqKqBzPLAIAYuLUfJ62f78b1ldXdEpPtjuCGalLy19EhOThEIh1u5uG9ZHNLLwUd0E3ioCYAL2euyzzvHCXmf8tbHu3BAuUG3iHKQsUWAXggYeywMGmNqTtbVV9ob8MexCACLjb9++6pwZ0HbFVDU1Nzurj8hA1PoQTC7Y2tp23ip2E1RPG+sxZw2iNMStoMKq2ngiQcnkjT7iHrhUVE/rsRiNjclcbyhOCMApYaLBwUHCmQPsxrsJdBxWlpcoHA6Ji38eI1JIG5xaOn1HxycnzprD14rBz2N0ORpZoLm5WdEi2ogW8pj7cplub26dklMoFKnVbFJLnTpOH6LwiRuOL4wmI8gLh4JiF3c+R88IeQxOGW1No9lQYv6bNOH1epzGGu9a3KjiuOhJIW8Z+ZVqn2GFCMMKEUZPtSGtFhrzGlWxLVOt7qzjwPIGbMfReGaK6vDwkLPpDOIQjJshbeOQV4LlCsViyZkpj12AsFK3WCqqG1//1cX9k55U++cgBRG7z+ej9+oTsYoU2IXgKa9Wa84qWAR/2VxWRefYikmdnIHuKy4fL8veT01RKBykgN/POk2JRQiqGGxCdnl17ZQC5CWAW4FYBlKi0YhTghDfmMSYEPwZlIKz8wvK3GWdpWPSQclpj3+ZCja7LgS/HiO3GI/6k13hJIChmPXYGvn9Pn2ke3RNCH5tJpOleOLQtRFbTnA9GKBcXVnuahvTFSFY2BmPJyiVTve8iKeg+7y5ueG0M93AdSEYjd3e3nXig7cKHjJICQWD+oh7uCrkLpOh79+3dO7t8+XvTddfA7sWsqIH1U8yADbrxD6RbuKKEGwms6WqqX5kZ3ePai5Wzx0LQY0XTxyx7g/CCYLaw8MjneucjoVUKlVKq95UP4M4y60tAjsWkkwmnVLSz+D6T8/Oda4zOhZSELBnogTu7jKuPJgdC3nL8cZrwHsaN+hYiMVdrBBhWCHCsEKEYYUIwwoRhhUiDCtEGFaIMKwQYVghwrBChGGFCMMKEYYVIgwrRBhWiDCsEGFYIcKwQoRhhYiC6F9nVJsyYzeHXQAAAABJRU5ErkJggg=="},95:function(e,t,n){e.exports=n(136)}},[[95,1,2]]]);
//# sourceMappingURL=main.585d28f8.chunk.js.map